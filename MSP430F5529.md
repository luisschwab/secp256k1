# secp256k1 <> MSP430F5529

In order to make `secp256k1` fit into the MSP430F5529 limited memory space (8KB RAM and 128KB ROM), run the `configure` script like this:

```shell
./configure \
    --host=msp430-elf \
    --enable-static \
    --disable-shared \
    --disable-tests \
    --disable-benchmark \
    --enable-experimental \
    --disable-exhaustive-tests \
    --disable-examples \
    --with-ecmult-window=2 \
    --with-ecmult-gen-kb=2 \
    --disable-module-ecdh \
    --disable-module-recovery \
    --disable-module-extrakeys \
    --disable-module-schnorrsig \
    --disable-module-musig \
    --disable-module-ellswift \
    --with-asm=no \
    CFLAGS="-mmcu=msp430f5529 -Os -ffunction-sections -fdata-sections -DNDEBUG -mlarge -mcode-region=upper -mdata-region=lower -Wno-type-limits"
```

It was also necessary to reduce `ECMULT_MAX_POINTS_PER_BATCH` to 16000 on `src/ecmult_impl.h`:
```diff
/* Minimum number of points for which pippenger_wnaf is faster than strauss wnaf */
#define ECMULT_PIPPENGER_THRESHOLD 88

-#define ECMULT_MAX_POINTS_PER_BATCH 5000000
+/* Reduced from 5000000 so it fits in the MSP430F5529 (only 8KB of RAM) */
+#define ECMULT_MAX_POINTS_PER_BATCH 16000

/** Fill a table 'pre_a' with precomputed odd multiples of a.
 *  pre_a will contain [1*a,3*a,...,(2*n-1)*a], so it needs space for n group elements.
```

